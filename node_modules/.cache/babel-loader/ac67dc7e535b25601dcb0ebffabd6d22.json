{"ast":null,"code":"var _jsxFileName = \"/Users/davo/Desktop/admin/src/layouts/rateEvaluateSidebar.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport Box from '@mui/material/Box';\nimport Drawer from '@mui/material/Drawer'; // import {useLocation} from 'react-router'\n\nimport clsx from 'clsx';\nimport '../assets/scss/layout/sidebar/sidebar.scss';\nimport { useSearchParams } from 'react-router-dom';\nimport useStylesSidebar from '../assets/makeStyles/sidebar/sidebar';\nimport EvaluationApi from '../api/evaluation';\nimport { UseEvaluationContext } from '../context/evalaution/evaluationContext';\nimport CirclePercent from './circlePercent/circlePercent';\nimport MakeStyles from '../assets/makeStyles/makeStyles';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst RateSidebar = () => {\n  _s();\n\n  const classesSideBar = useStylesSidebar(); // const location = useLocation()\n\n  const classes = MakeStyles(); // const {donePercent} = UseEvaluationContext() as IEvalautionProps\n\n  const [searchParameters] = useSearchParams();\n  const [eventData, setEventData] = useState(null);\n  const {\n    activeUser,\n    setUserId,\n    evaluatorsStepLength,\n    setEvaluatorsStepLength,\n    setEvaluationUser\n  } = UseEvaluationContext();\n  useEffect(() => {\n    // @ts-ignore\n    const searchParams = [...searchParameters.entries()];\n    const eventToken = searchParams.find(_ref => {\n      let [paramName] = _ref;\n      return paramName === 'event_token';\n    })[1];\n    const userToken = searchParams.find(_ref2 => {\n      let [paramName] = _ref2;\n      return paramName === 'user_token';\n    })[1];\n\n    (async () => {\n      if (userToken && eventToken) {\n        const eventEvaluation = await EvaluationApi.getEventForEvaluation(userToken, eventToken);\n\n        if (eventEvaluation.status === 200) {\n          setEventData({ ...eventEvaluation.data,\n            questionsGrouped: eventEvaluation.data.questions.reduce((acc, val) => acc[val.questionGroupId] ? { ...acc,\n              [val.questionGroupId]: [...acc[val.questionGroupId], val]\n            } : { ...acc,\n              [val.questionGroupId]: [val]\n            }, {})\n          });\n        }\n      }\n    })();\n  }, [searchParameters]);\n  useEffect(() => {\n    if (eventData) {\n      const evaluatees = eventData.evaluatees && eventData.evaluatees.map(item => ({\n        name: `${item.firstName} ${item.lastName}`,\n        id: item.id,\n        position: item.position\n      }));\n      setEvaluatorsStepLength(evaluatees);\n    }\n  }, [eventData]);\n  useEffect(() => {\n    if (evaluatorsStepLength && evaluatorsStepLength[activeUser - 1]) {\n      setUserId(evaluatorsStepLength[activeUser - 1].id);\n      setEvaluationUser(evaluatorsStepLength[activeUser - 1]);\n    }\n  }, [activeUser, evaluatorsStepLength]);\n  return /*#__PURE__*/_jsxDEV(Drawer, {\n    classes: {\n      paper: clsx(classesSideBar.paper // location.pathname !== '/evaluators-step' && classesSideBar.paddingLeftPx8,\n      ),\n      root: classesSideBar.sidebarContainer\n    },\n    variant: \"permanent\",\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      component: \"div\",\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        className: \"evaluators-step-sidebar\",\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          className: \"font-weight-700 evaluators-step-heading color-dark-blue m-auto font-size-16 line-height-30\",\n          children: \"Your Evaluatees:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          className: \"evaluators-step-body\",\n          children: evaluatorsStepLength.map((item, index) => /*#__PURE__*/_jsxDEV(Box, {\n            className: \"evaluators-step-box border-top-gray\",\n            children: [/*#__PURE__*/_jsxDEV(Box, {\n              className: `${index + 1 === activeUser && 'evaluators-step-box-active'}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              className: \"d-flex break-all align-center mt-26\",\n              children: [/*#__PURE__*/_jsxDEV(Box, {\n                className: \"d-flex\",\n                children: /*#__PURE__*/_jsxDEV(Box, {\n                  children: /*#__PURE__*/_jsxDEV(CirclePercent, {\n                    percent: index !== 0 ? Math.floor(100 / (evaluatorsStepLength.length + 1 - (index + 1))) : 0,\n                    width: 30\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 105,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 104,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                className: \"font-weight-500 font-size-18 line-height-22 ml-18\",\n                children: item.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              className: \"mr-36 mt-16\",\n              children: /*#__PURE__*/_jsxDEV(Box, {\n                className: `ml-16 font-size-12 font-weight-300 line-height-14 font-italic mb-10 ${classes.colorGray}`,\n                children: [index !== 0 ? Math.floor(100 / (evaluatorsStepLength.length + 1 - (index + 1))) : 0, \"% complete\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 17\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 5\n  }, this);\n};\n\n_s(RateSidebar, \"OljmODpaU+PON+TBmPst0G2R8Pk=\", false, function () {\n  return [useStylesSidebar, useSearchParams];\n});\n\n_c = RateSidebar;\nexport default RateSidebar;\n\nvar _c;\n\n$RefreshReg$(_c, \"RateSidebar\");","map":{"version":3,"sources":["/Users/davo/Desktop/admin/src/layouts/rateEvaluateSidebar.tsx"],"names":["React","useEffect","useState","Box","Drawer","clsx","useSearchParams","useStylesSidebar","EvaluationApi","UseEvaluationContext","CirclePercent","MakeStyles","RateSidebar","classesSideBar","classes","searchParameters","eventData","setEventData","activeUser","setUserId","evaluatorsStepLength","setEvaluatorsStepLength","setEvaluationUser","searchParams","entries","eventToken","find","paramName","userToken","eventEvaluation","getEventForEvaluation","status","data","questionsGrouped","questions","reduce","acc","val","questionGroupId","evaluatees","map","item","name","firstName","lastName","id","position","paper","root","sidebarContainer","index","Math","floor","length","colorGray"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react'\nimport Box from '@mui/material/Box'\nimport Drawer from '@mui/material/Drawer'\n// import {useLocation} from 'react-router'\nimport clsx from 'clsx'\nimport '../assets/scss/layout/sidebar/sidebar.scss'\nimport {useSearchParams} from 'react-router-dom'\nimport useStylesSidebar from '../assets/makeStyles/sidebar/sidebar'\nimport EvaluationApi from '../api/evaluation'\nimport {IQuestion} from '../interfaces/evaulateEvent'\nimport {UseEvaluationContext} from '../context/evalaution/evaluationContext'\nimport {IEvalautionProps} from '../context/evalaution/evaluationContext.props'\nimport CirclePercent from './circlePercent/circlePercent'\nimport MakeStyles from '../assets/makeStyles/makeStyles'\n\nconst RateSidebar = () => {\n  const classesSideBar = useStylesSidebar()\n  // const location = useLocation()\n  const classes = MakeStyles()\n  // const {donePercent} = UseEvaluationContext() as IEvalautionProps\n  const [searchParameters] = useSearchParams()\n  const [eventData, setEventData] = useState<{\n    dueDate: string\n    id: number\n    questionsGrouped: Record<number, IQuestion[]>\n    evaluatees: {firstName: string; lastName: string; id: number; position: string}[]\n  } | null>(null)\n\n  const {activeUser, setUserId, evaluatorsStepLength, setEvaluatorsStepLength, setEvaluationUser} =\n    UseEvaluationContext() as IEvalautionProps\n\n  useEffect(() => {\n    // @ts-ignore\n    const searchParams = [...searchParameters.entries()]\n    const eventToken = searchParams.find(([paramName]) => paramName === 'event_token')[1]\n    const userToken = searchParams.find(([paramName]) => paramName === 'user_token')[1]\n    ;(async () => {\n      if (userToken && eventToken) {\n        const eventEvaluation = await EvaluationApi.getEventForEvaluation(userToken, eventToken)\n        if (eventEvaluation.status === 200) {\n          setEventData({\n            ...eventEvaluation.data,\n            questionsGrouped: eventEvaluation.data.questions.reduce(\n              (acc: Record<number, IQuestion[]>, val: IQuestion) =>\n                acc[val.questionGroupId]\n                  ? {\n                      ...acc,\n                      [val.questionGroupId]: [...acc[val.questionGroupId], val],\n                    }\n                  : {\n                      ...acc,\n                      [val.questionGroupId]: [val],\n                    },\n              {},\n            ),\n          })\n        }\n      }\n    })()\n  }, [searchParameters])\n\n  useEffect(() => {\n    if (eventData) {\n      const evaluatees =\n        eventData.evaluatees &&\n        eventData.evaluatees.map((item) => ({\n          name: `${item.firstName} ${item.lastName}`,\n          id: item.id,\n          position: item.position,\n        }))\n      setEvaluatorsStepLength(evaluatees)\n    }\n  }, [eventData])\n\n  useEffect(() => {\n    if (evaluatorsStepLength && evaluatorsStepLength[activeUser - 1]) {\n      setUserId(evaluatorsStepLength[activeUser - 1].id)\n      setEvaluationUser(evaluatorsStepLength[activeUser - 1])\n    }\n  }, [activeUser, evaluatorsStepLength])\n\n  return (\n    <Drawer\n      classes={{\n        paper: clsx(\n          classesSideBar.paper,\n          // location.pathname !== '/evaluators-step' && classesSideBar.paddingLeftPx8,\n        ),\n        root: classesSideBar.sidebarContainer,\n      }}\n      variant=\"permanent\"\n    >\n      <Box component=\"div\">\n        <Box className=\"evaluators-step-sidebar\">\n          <Box className=\"font-weight-700 evaluators-step-heading color-dark-blue m-auto font-size-16 line-height-30\">\n            Your Evaluatees:\n          </Box>\n          <Box className=\"evaluators-step-body\">\n            {evaluatorsStepLength.map((item, index) => (\n              <Box key={index} className=\"evaluators-step-box border-top-gray\">\n                <Box className={`${index + 1 === activeUser && 'evaluators-step-box-active'}`} />\n                <Box className=\"d-flex break-all align-center mt-26\">\n                  <Box className=\"d-flex\">\n                    <Box>\n                      <CirclePercent\n                        percent={\n                          index !== 0\n                            ? Math.floor(100 / (evaluatorsStepLength.length + 1 - (index + 1)))\n                            : 0\n                        }\n                        width={30}\n                      />\n                    </Box>\n                  </Box>\n                  <Box className=\"font-weight-500 font-size-18 line-height-22 ml-18\">\n                    {item.name}\n                  </Box>\n                </Box>\n                <Box className=\"mr-36 mt-16\">\n                  <Box\n                    className={`ml-16 font-size-12 font-weight-300 line-height-14 font-italic mb-10 ${classes.colorGray}`}\n                  >\n                    {index !== 0\n                      ? Math.floor(100 / (evaluatorsStepLength.length + 1 - (index + 1)))\n                      : 0}\n                    % complete\n                  </Box>\n                </Box>\n                {/*<Box className=\"font-size-10 font-weight-300 line-height-12 font-italic mt-6\">*/}\n                {/*  {item.percentLabel}*/}\n                {/*</Box>*/}\n              </Box>\n            ))}\n          </Box>\n        </Box>\n      </Box>\n    </Drawer>\n  )\n}\nexport default RateSidebar\n"]},"metadata":{},"sourceType":"module"}